# 更新日志

## [2.0.0] - 2024-XX-XX

### 🎉 重大更新：集成 TXT 阅读器

#### 新增功能

##### 📚 TXT 阅读器
- **WebDAV 云端阅读**
  - 支持多个 WebDAV 账号管理
  - 密码安全存储（iOS Keychain）
  - 在线文件浏览（树形目录）
  - 流式读取（无需下载完整文件）
  - 支持大文件（100MB+）

- **智能编码识别**
  - 自动检测 10+ 种文本编码
  - UTF-8、UTF-16、GB18030/GBK、Big5、Shift-JIS 等
  - BOM 自动识别
  - 编码选择器（实时预览）
  - 记住每本书的编码选择

- **流畅阅读体验**
  - 分页模式（省电）
  - 滚动模式（连续阅读）
  - 自定义字体、字号（12-36pt）
  - 行距调节（1.0-2.5x）
  - 页边距调节
  - 三种主题（白天/夜间/护眼）
  - 跟随系统外观

- **智能章节识别**
  - 自动识别中文章节（第X章/卷/节/回）
  - 支持英文章节（Chapter/Part/Section）
  - 目录导航
  - 章节进度显示

- **阅读辅助**
  - 阅读进度保存
  - 进度条显示
  - 百分比显示
  - 预计剩余时长
  - 书架管理

- **iPad 特性**
  - 分屏支持（Split View）
  - 滑动覆盖（Slide Over）
  - 外接键盘快捷键
  - 动态字体支持
  - VoiceOver 支持

#### 改进
- 应用名称：番茄工作法计时器 → 番茄
- 新增"阅读"标签页
- 优化导航栏布局（6 个标签）
- 更新应用图标和配色

#### 技术改进
- 新增 WebDAVManager（WebDAV 连接管理）
- 新增 EncodingDetector（编码自动检测）
- 新增 ChapterParser（章节智能解析）
- 新增 BookStore（书籍数据管理）
- 完善错误处理和用户提示

#### 文档
- 新增 QUICK_START_READER.md（快速上手指南）
- 新增 READER_IMPLEMENTATION.md（技术实现文档）
- 更新 README.md（功能说明）

---

## [1.0.0] - 2024-XX-XX

### 🎉 首次发布

#### 核心功能
- **番茄工作法计时器**
  - 三段模式（工作/短休息/长休息）
  - 精准计时（目标时间 + 单调时钟）
  - 智能切换（4 个番茄后长休息）
  - 灵活控制（开始/暂停/重置/+5分钟/跳过）

- **提醒系统**
  - 本地通知
  - 蜂鸣音效
  - 触觉反馈

- **数据统计**
  - 今日统计
  - 周统计
  - 连续天数（Streak）
  - CSV 导出

#### 🎮 游戏化系统
- **番茄币系统**
  - 完成番茄钟获得番茄币
  - 交易记录
  - 金币飞入动画

- **虚拟宠物养成**
  - 4 种宠物（猫/狗/鸟/兔）
  - 100 级成长系统
  - 4 个进化阶段
  - 自动状态系统（饥饿/快乐/健康/精力）
  - 互动玩法（喂食/玩耍/抚摸/治疗）
  - 6 个技能加成

- **成就系统**
  - 20+ 个成就
  - 5 个等级（青铜→钻石）
  - 自动解锁
  - 烟花动画

- **迷你游戏**
  - 番茄接水果
  - 2048 番茄版
  - 记忆翻牌
  - 每日限玩 5 次
  - 高分记录

#### 可访问性
- VoiceOver 支持
- Dynamic Type（动态字体）
- Reduce Motion（减弱动画）
- WCAG AA 对比度标准

#### 键盘快捷键
- 空格：开始/暂停
- R：重置
- 1/2/3：切换模式
- N：跳到下一段
- ↑/↓：调整时长

#### 设计
- 极简风格
- 玻璃态 UI
- 流畅动画
- 番茄红主色调

---

## 版本说明

### 版本号规则
- 主版本号：重大功能更新
- 次版本号：新功能添加
- 修订号：Bug 修复和小改进

### 发布周期
- 主版本：不定期（重大功能）
- 次版本：每月 1-2 次
- 修订版：根据需要

---

**感谢使用番茄！** 🍅
